<!DOCTYPE html>
<html>
<head>
	<title>Sortable Table using Polymer Web Components</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<script src="../../platform/platform.js"></script>
	<link rel="import" href="../sortable-table.html">
	<style>
		sortable-table { width: 100% }
	</style>
</head>
<body unresolved>

	<h2>Row Templates</h2>
	Using <code>rowTemplate</code> to populate rows, should work when a cell <code>formula</code> is specified, and all normal row selection functionality should continue to operate (clicks and checkboxes).<br>
	<em style="color:red">Selection clicks do not work.</em>

	<p />

	<template id="simpleRowTemplate">
		<td style="text-align:center"><b>{{row.fields.fruit.value}}</b></td>
		<td>{{row.fields.alice.value}}</b></td>
		<td>{{row.fields.bill.value}}</td>
		<td>{{row.fields.casey.value}}</td>
		<td>~<em>{{row.fields.average.value}}</em></td>
		<td><em>{{row.fields.total.value}}</em>!</td>
	</template>

	<template id="example" bind>
		<sortable-table data="{{data}}" columns="{{columns}}" rowTemplate="simpleRowTemplate" rowSelection="{{rowSelection}}" multiSelect="{{multiSelect}}" checkbox="{{checkbox}}"></sortable-table>
		<p>
		<strong>Enabled Interactions:</strong><br>
		<input type="checkbox" checked="{{rowSelection}}">rowSelection<br>
		<input type="checkbox" checked="{{multiSelect}}">multiSelect<br>
		<input type="checkbox" checked="{{checkbox}}">checkbox<br>
	</template>
	<script>
	var fruits = [
		{fruit: 'apple', alice: 4, bill: 10, casey: 2 },
		{fruit: 'banana', alice: 0, bill: 4, casey: 0 },
		{fruit: 'grape', alice: 2, bill: 3, casey: 5 },
		{fruit: 'pear', alice: 4, bill: 2, casey: 8 },
		{fruit: 'strawberry', alice: 0, bill: 14, casey: 0 }
	];

	var columns = [
		{name:'fruit', title:'Fruit' },
		{name:'alice', title:'Alice' },
		{name:'bill', title:'Bill' },
		{name:'casey', title:'Casey' },
		{name:'average', title:'Average', formula: function(row){ return Math.round((row.alice + row.bill + row.casey)/3*10)/10; }},
		{name:'total', title:'Total', formula: function(row){ return row.alice + row.bill + row.casey; }}
	];

	window.addEventListener('polymer-ready', function(){
		var model = {
			data: fruits,
			columns: columns,
			rowSelection: true,
			multiSelect: false,
			checkbox: true
		};
		document.getElementById('example').model = model;
	});
	</script>
</body>
</html>